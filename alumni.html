<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Alumni List</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body { font-family: Poppins; background:#f5f7fb; padding:30px }
    h1 { text-align:center }
    input { width:100%; padding:10px; margin-bottom:20px }
    .card {
      background:#fff; padding:15px; margin-bottom:15px;
      border-radius:10px; box-shadow:0 4px 10px rgba(0,0,0,.1);
      cursor:pointer;
    }
    .name { font-weight:600 }
  </style>
</head>
<body>

<h1>Alumni</h1>
<input id="search" placeholder="Search by name / company">

<div id="list"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT.firebaseapp.com",
  projectId: "YOUR_PROJECT_ID"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

let alumniData = [];

const snap = await getDocs(collection(db, "alumni"));
snap.forEach(doc => alumniData.push({ id: doc.id, ...doc.data() }));

const list = document.getElementById("list");
const search = document.getElementById("search");

function render(data) {
  list.innerHTML = "";
  data.forEach(a => {
    list.innerHTML += `
      <div class="card" onclick="openProfile('${a.id}')">
        <div class="name">${a.name || ""}</div>
        <div>${a.designation || ""}</div>
        <div>${a.company || ""}</div>
      </div>
    `;
  });
}
render(alumniData);

search.oninput = () => {
  const q = search.value.toLowerCase();
  render(alumniData.filter(a =>
    (a.name || "").toLowerCase().includes(q) ||
    (a.company || "").toLowerCase().includes(q)
  ));
};

window.openProfile = id => {
  window.location.href = `alumni-profile.html?id=${id}`;
};
</script>
</body>
</html>
