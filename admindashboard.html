<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Admin – Alumni</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body { font-family:Poppins; background:#f5f7fb; padding:30px }
    .card {
      background:#fff; padding:15px; margin-bottom:15px;
      border-radius:10px;
    }
    input, textarea { width:100%; padding:8px; margin:5px 0 }
    button { margin-top:5px }
  </style>
</head>
<body>

<h2>Admin – Edit Alumni</h2>

<div id="list"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, collection, getDocs, doc, updateDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT.firebaseapp.com",
  projectId: "YOUR_PROJECT_ID"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const snap = await getDocs(collection(db, "alumni"));
const list = document.getElementById("list");

snap.forEach(d => {
  const a = d.data();
  list.innerHTML += `
    <div class="card">
      <input value="${a.name || ""}" id="name-${d.id}">
      <input value="${a.company || ""}" id="company-${d.id}">
      <input value="${a.designation || ""}" id="designation-${d.id}">
      <input value="${a.email || ""}" id="email-${d.id}">
      <input value="${a.batch || ""}" id="batch-${d.id}">
      <input value="${a.branch || ""}" id="branch-${d.id}">
      <input value="${a.linkedin || ""}" id="linkedin-${d.id}">
      <textarea id="about-${d.id}">${a.about || ""}</textarea>
      <button onclick="save('${d.id}')">Save</button>
    </div>
  `;
});

window.save = async (id) => {
  await updateDoc(doc(db, "alumni", id), {
    name: document.getElementById(`name-${id}`).value,
    company: document.getElementById(`company-${id}`).value,
    designation: document.getElementById(`designation-${id}`).value,
    email: document.getElementById(`email-${id}`).value,
    batch: document.getElementById(`batch-${id}`).value,
    branch: document.getElementById(`branch-${id}`).value,
    linkedin: document.getElementById(`linkedin-${id}`).value,
    about: document.getElementById(`about-${id}`).value
  });
  alert("Updated");
};
</script>
</body>
</html>
