<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reset Password | College Placement Connect</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen flex items-center justify-center bg-gray-100">

  <div class="bg-white p-10 rounded-2xl shadow-lg w-80 md:w-96 text-center">
    <h2 class="text-2xl font-bold text-blue-700 mb-6">Reset Password</h2>

    <form onsubmit="return resetPassword(event)">
      <input type="email" id="resetEmail" placeholder="Enter your admin email" required 
             class="w-full border px-4 py-2 rounded-lg mb-4 focus:ring-2 focus:ring-blue-300 outline-none" />
      <input type="password" id="newPassword" placeholder="Enter new password" required 
             class="w-full border px-4 py-2 rounded-lg mb-4 focus:ring-2 focus:ring-blue-300 outline-none" />
      <input type="password" id="confirmPassword" placeholder="Confirm new password" required 
             class="w-full border px-4 py-2 rounded-lg mb-6 focus:ring-2 focus:ring-blue-300 outline-none" />

      <button type="submit" 
              class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition font-semibold">
        Change Password
      </button>
    </form>

    <!-- Hidden success message -->
    <p id="successMessage" class="hidden text-green-600 font-medium mt-4">
      ✅ Password changed successfully! Redirecting to login...
    </p>
  </div>

  <script>
    function resetPassword(e) {
      e.preventDefault();

      const email = document.getElementById('resetEmail').value;
      const newPassword = document.getElementById('newPassword').value;
      const confirmPassword = document.getElementById('confirmPassword').value;
      const successMessage = document.getElementById('successMessage');

      if (newPassword !== confirmPassword) {
        alert("Passwords do not match. Please try again.");
        return false;
      }

      // ✅ Save new credentials locally
      localStorage.setItem("adminEmail", email);
      localStorage.setItem("adminPassword", newPassword);

      // ✅ Show success message and redirect
      successMessage.classList.remove("hidden");

      setTimeout(() => {
        window.location.href = "admin.html";
      }, 2000);

      return false;
    }
  </script>

</body>
</html>
